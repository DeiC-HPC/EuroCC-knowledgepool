
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.4">
    
    
      
        <title>Best practices - EuroCC Knowledge Pool</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.358818c7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f0267088.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#best-practices-for-hpc" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="EuroCC Knowledge Pool" class="md-header-nav__button md-logo" aria-label="EuroCC Knowledge Pool">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            EuroCC Knowledge Pool
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Best practices
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EuroCC Knowledge Pool" class="md-nav__button md-logo" aria-label="EuroCC Knowledge Pool">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    EuroCC Knowledge Pool
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Best practices
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Best practices
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#code-coverage-and-testing" class="md-nav__link">
    Code coverage and testing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-integration" class="md-nav__link">
    Code integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-styling" class="md-nav__link">
    Code styling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#containerized-applications" class="md-nav__link">
    Containerized applications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    Documentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#markdown-style-coding" class="md-nav__link">
    Markdown-style coding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packageenvironment-management-systems" class="md-nav__link">
    Package/Environment management systems
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#many-short-jobs-running" class="md-nav__link">
    Many short jobs running
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massive-stdout-outputs" class="md-nav__link">
    Massive STDOUT outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-a-coding-project" class="md-nav__link">
    Packaging a coding project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software-design" class="md-nav__link">
    Software design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-control" class="md-nav__link">
    Version control
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../progr.md" class="md-nav__link">
      Coding on HPC
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../software.md" class="md-nav__link">
      Software
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../literature.md" class="md-nav__link">
      Literature
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../danmark.md" class="md-nav__link">
      Danish HPCs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../hardware.md" class="md-nav__link">
      Hardware
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#code-coverage-and-testing" class="md-nav__link">
    Code coverage and testing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-integration" class="md-nav__link">
    Code integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-styling" class="md-nav__link">
    Code styling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#containerized-applications" class="md-nav__link">
    Containerized applications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    Documentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#markdown-style-coding" class="md-nav__link">
    Markdown-style coding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packageenvironment-management-systems" class="md-nav__link">
    Package/Environment management systems
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#many-short-jobs-running" class="md-nav__link">
    Many short jobs running
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massive-stdout-outputs" class="md-nav__link">
    Massive STDOUT outputs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#packaging-a-coding-project" class="md-nav__link">
    Packaging a coding project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software-design" class="md-nav__link">
    Software design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-control" class="md-nav__link">
    Version control
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset"><a class="md-content__button md-icon" download href="../pdf/combined.pdf" title="PDF Export"><svg style="height: 1.2rem; width: 1.2rem;" viewBox="0 0 384 512" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"></path></svg></a>
              
                
                
                <h1 id="best-practices-for-hpc">Best practices for HPC</h1>
<p>This page lists some useful best practices to keep in mind when coding and running applications and pipelines on an HPC.</p>
<h2 id="code-coverage-and-testing">Code coverage and testing</h2>
<p>Every time we code, testing is a concern and is usually performed by the coder(s) at some point during the project. However, this is not always the best solution, as a project can scale to be quite large and complex, with a lot of things to test. It is a good practice to implement simple but representative tests that cover all the code, so that bugs can be spotted automatically before the final users do that.
Code coverage tools to implement such tests exists for several programming languages, and also for testing code deployed on Github version control.</p>
<h2 id="code-integration">Code integration</h2>
<h2 id="code-styling">Code styling</h2>
<h2 id="containerized-applications">Containerized applications</h2>
<p>Docker, Singularity</p>
<h2 id="documentation">Documentation</h2>
<h2 id="markdown-style-coding">Markdown-style coding</h2>
<h2 id="packageenvironment-management-systems">Package/Environment management systems</h2>
<p>When coding, it is essential that all the project is developed under specific software conditions, i.e. the packages and libraries used during development (dependencies) should not change along the project's lifetime, so that variations in things such as output formats, new algorithmic implementations will not create conflicts difficult to trace back under development.</p>
<h2 id="many-short-jobs-running">Many short jobs running</h2>
<p>Everytime a job is submitted to the job manager (e.g. SLURM) of a computing cluster, there is an overhead time necessary to elaborate resource provision, preparation for output, and queue organization. Therefore it is wise to create, when possible, longer jobs. One needs to find the correct balance for how to organizing jobs: if these are too long and fail because of some issue, than a lot of time and resources have been wasted, but such problem can be overcome by tracking the outputs of each step to avoid rerunning all computations. For example, at each step of a job outputting something relevant, there can be a condition checking if the specific output is already present.</p>
<h2 id="massive-stdout-outputs">Massive STDOUT outputs</h2>
<p>Try to avoid printing many outputs on the standard output STDOUT. This can be problematic when a lot of parallel jobs are running, letting STDOUT filling all the home directory up, and causing errors and eventual data loss. Use instead an output in software-specific data structures (such as <code>.RData</code> files for the <code>R</code> language) or at least simple text files.</p>
<h2 id="packaging-a-coding-project">Packaging a coding project</h2>
<p>When coding a piece of software in which there are multiple newly implemented function, it can be smart to organize all those functions as a package, that can be reused and eventually shared with ease. Such a practice is especially easy and can be mastered very quickly for coding projects in <code>python</code> and <code>R</code>.</p>
<h2 id="software-design">Software design</h2>
<h2 id="version-control">Version control</h2>
<p>Version control is the tracking of your development history for a project. This allows multiple people working on the same material to keep changes in sync without stepping over each other's contributions. Version control tools allow to commit changes with a description, set up and assign project objectives, open software issues from users and contributors, test automatically the code to find bugs before users step into them. Version control is useful for both teams and single users, and it is a good practice to have version control as a standard for any project.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
<p style="text-align:center;"><img src="https://deic-hpc.github.io/EuroCC-knowledgepool/overrides/assets/images/DeiC.png" 
    alt="DeiC logo"
    style="float:above left;width:100px;">

  
    This documentation is part of the EuroHPC Competence Center in Denmark, managed by DeiC.dk.
   
    <img src="https://deic-hpc.github.io/EuroCC-knowledgepool/overrides/assets/images/EuroCC.jpg" 
    alt="EuroCC logo"
    style="float:above right;width:50px;">
</p>

    </div>
    
      <script src="../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>